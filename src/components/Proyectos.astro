---
import Contenido_proyectos from "./Contenido_proyectos.astro";

interface Proyecto {
  titulo: string;
  descripcion: string;
  tareas: string[];
  tectnologias: string[];
}

interface Proyectos {
  img: string;
  empresa: string;
  ano: string;
  titulo: string;
  proyectos: Proyecto[];
}

const { experiencia } = Astro.props as { experiencia: Proyectos };
---

<div class="flex flex-col md:flex-row gap-8 md:gap-16">
  <!-- Company Info / Logo -->
  <div
    class="md:w-1/3 flex flex-col items-center md:items-end text-center md:text-right"
  >
    <div
      class="w-32 h-32 bg-white/5 rounded-2xl p-4 backdrop-blur-sm border border-white/10 mb-6 shadow-xl flex items-center justify-center"
    >
      <img
        class="w-full h-full object-contain filter brightness-0 invert opacity-80"
        src={experiencia.img}
        alt={experiencia.empresa}
      />
    </div>
    <h3 class="text-3xl font-heading font-bold text-white mb-2">
      {experiencia.empresa}
    </h3>
    <p class="text-primary font-medium text-lg mb-1">{experiencia.titulo}</p>
    <p class="text-gray-400 font-light">{experiencia.ano}</p>
  </div>

  <!-- Projects Timeline -->
  <div class="md:w-2/3 relative border-l border-white/10 pl-8 md:pl-12 py-2">
    <div class="flex flex-col gap-12">
      {
        experiencia.proyectos?.map((proyecto: Proyecto) => (
          <Contenido_proyectos proyectos={proyecto} />
        ))
      }
    </div>
  </div>
</div>
