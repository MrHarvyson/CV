---
import Icono_linkedin from "./icons/Icono_linkedin.astro";
import Icono_github from "./icons/Icono_github.astro";
---

<header
  class="fixed top-0 w-full z-50 transition-all duration-300 bg-dark/80 backdrop-blur-md border-b border-white/5"
>
  <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
    <!-- Logo -->
    <a
      href="#idhome"
      class="font-heading font-bold text-2xl tracking-tight hover:text-primary transition-colors duration-300"
    >
      Portfolio<span class="text-primary">.</span>
    </a>

    <!-- Desktop Menu -->
    <nav class="hidden lg:block">
      <ul class="flex gap-10">
        <li>
          <a
            href="#idhome"
            class="nav-link text-sm font-medium text-gray-300 hover:text-primary transition-colors duration-300"
            data-ref="1">Inicio</a
          >
        </li>
        <li>
          <a
            href="#idexperiencia"
            class="nav-link text-sm font-medium text-gray-300 hover:text-primary transition-colors duration-300"
            data-ref="2">Experiencia</a
          >
        </li>
        <li>
          <a
            href="#idEducacion"
            class="nav-link text-sm font-medium text-gray-300 hover:text-primary transition-colors duration-300"
            data-ref="3">Educaci√≥n</a
          >
        </li>
        <li>
          <a
            href="#idproyectos"
            class="nav-link text-sm font-medium text-gray-300 hover:text-primary transition-colors duration-300"
            data-ref="4">Proyectos</a
          >
        </li>
      </ul>
    </nav>

    <!-- Social Icons -->
    <div class="hidden lg:flex gap-4 items-center">
      <a
        href="https://github.com/MrHarvyson"
        target="_blank"
        class="text-gray-400 hover:text-white transition-colors duration-300 transform hover:scale-110"
        aria-label="GitHub"
      >
        <Icono_github />
      </a>
      <a
        href="https://www.linkedin.com/in/josecarlosmorenomartin/"
        target="_blank"
        class="text-gray-400 hover:text-white transition-colors duration-300 transform hover:scale-110"
        aria-label="LinkedIn"
      >
        <Icono_linkedin />
      </a>
    </div>
  </div>
</header>

<script>
  // Active Link Highlighting & Smooth Scroll
  const sections = document.querySelectorAll("section");
  const navLinks = document.querySelectorAll(".nav-link");

  window.addEventListener("scroll", () => {
    let current = "";
    sections.forEach((section) => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.clientHeight;
      if (scrollY >= sectionTop - 150) {
        current = section.getAttribute("id");
      }
    });

    navLinks.forEach((link) => {
      link.classList.remove("text-primary");
      link.classList.add("text-gray-300");
      const href = link.getAttribute("href");
      if (href && href.includes(current)) {
        link.classList.remove("text-gray-300");
        link.classList.add("text-primary");
      }
    });
  });
</script>
